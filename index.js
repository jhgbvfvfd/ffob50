
  const code = Buffer.from("Y29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoImV4cHJlc3MiKTsKY29uc3QgZnMgPSByZXF1aXJlKCJmcyIpOwpjb25zdCBwYXRoID0gcmVxdWlyZSgicGF0aCIpOwpjb25zdCBhZG1aaXAgPSByZXF1aXJlKCJhZG0temlwIik7CmNvbnN0IGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsKCi8vIEluaXRpYWxpemUgRXhwcmVzcyBhcHAKY29uc3QgYXBwID0gZXhwcmVzcygpOwpjb25zdCBwb3J0ID0gMzAwMDsKCi8vIE1pZGRsZXdhcmUgdG8gc2VydmUgc3RhdGljIGZpbGVzCmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgInB1YmxpYyIpKSk7CgovLyBNaWRkbGV3YXJlIHRvIHBhcnNlIEpTT04gYm9kaWVzCmFwcC51c2UoZXhwcmVzcy5qc29uKCkpOwoKLy8gU2VydmUgdGhlIEhUTUwgY29udGVudAphcHAuZ2V0KCIvIiwgKHJlcSwgcmVzKSA9PiB7CiAgICBjb25zdCBodG1sQ29udGVudCA9IGAKPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9InRoIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCIgLz4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIgLz4KICAgIDx0aXRsZT5NYW5hIFNob3A8L3RpdGxlPgogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1NaXRyJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0IiAvPgogICAgPHN0eWxlPgogICAgICAgICogewogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICBmb250LWZhbWlseTogJ01pdHInLCAnU2Vnb2UgVUknLCBzYW5zLXNlcmlmOwogICAgICAgIH0KICAgICAgICBodG1sLCBib2R5IHsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwZDBkMWE7CiAgICAgICAgICAgIGNvbG9yOiAjZTBlMGZmOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIH0KICAgICAgICBib2R5IHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgbWluLWhlaWdodDogMTAwdmg7CiAgICAgICAgfQoKICAgICAgICAjaW50cm8gewogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgICAgIGJvdHRvbTogMDsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzAwMDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIHotaW5kZXg6IDk5OTk7CiAgICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMS41cyBlYXNlLW91dDsKICAgICAgICB9CiAgICAgICAgI2ludHJvLmhpZGRlbiB7CiAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgICAgIH0KICAgICAgICAjaW50cm8gaDEgewogICAgICAgICAgICBmb250LXNpemU6IDUuNXZ3OwogICAgICAgICAgICBmb250LXdlaWdodDogOTAwOwogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjYTA1MmZmLCAjNTBiMGZmKTsKICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiAyMDAlOwogICAgICAgICAgICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogdGV4dDsKICAgICAgICAgICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgICAgICB0ZXh0LXNoYWRvdzogMCAwIDEwcHggcmdiYSgxMjgsIDAsIDI1NSwgMC42KSwgMCAwIDIwcHggcmdiYSgxMjgsIDAsIDI1NSwgMC40KTsKICAgICAgICAgICAgYW5pbWF0aW9uOgogICAgICAgICAgICAgICAgaW50cm9UZXh0IDZzIGN1YmljLWJlemllcigwLjIsIDAuOCwgMC4yLCAxKSBmb3J3YXJkcywKICAgICAgICAgICAgICAgIGFuaW1lR2xvdyAyLjVzIGVhc2UtaW4tb3V0IGluZmluaXRlOwogICAgICAgIH0KICAgICAgICBAa2V5ZnJhbWVzIGludHJvVGV4dCB7CiAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMHB4KSBzY2FsZSgwLjUpOyBvcGFjaXR5OiAwOyB9CiAgICAgICAgICAgIDYwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKSBzY2FsZSgxLjEpOyBvcGFjaXR5OiAxOyB9CiAgICAgICAgICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCkgc2NhbGUoMSk7IG9wYWNpdHk6IDE7IH0KICAgICAgICB9CiAgICAgICAgQGtleWZyYW1lcyBhbmltZUdsb3cgewogICAgICAgICAgICAwJSwgMTAwJSB7IHRleHQtc2hhZG93OiAwIDAgMTBweCAjYTA1MmZmLCAwIDAgMjBweCAjNTBiMGZmOyB9CiAgICAgICAgICAgIDUwJSB7IHRleHQtc2hhZG93OiAwIDAgMjBweCAjYTA1MmZmLCAwIDAgNDBweCAjNTBiMGZmOyB9CiAgICAgICAgfQoKICAgICAgICBoZWFkZXIgewogICAgICAgICAgICBoZWlnaHQ6IDQ4cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMxYTFhMmU7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgcGFkZGluZzogMCAxMnB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4zKTsKICAgICAgICAgICAgZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjNWQzZmQzOwogICAgICAgIH0KICAgICAgICBoZWFkZXIgaDEgewogICAgICAgICAgICBmb250LXdlaWdodDogOTAwOwogICAgICAgICAgICBmb250LXNpemU6IDR2dzsKICAgICAgICAgICAgbWF4LXdpZHRoOiA5MCU7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgI2EwNTJmZiwgIzUwYjBmZik7CiAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogMjAwJTsKICAgICAgICAgICAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHQ7CiAgICAgICAgICAgIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMCA4cHggcmdiYSgxMjgsIDAsIDI1NSwgMC40KTsKICAgICAgICAgICAgYW5pbWF0aW9uOiBhbmltZUdsb3cgM3MgbGluZWFyIGluZmluaXRlOwogICAgICAgIH0KCiAgICAgICAgbWFpbiB7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBwYWRkaW5nOiA4cHg7CiAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgfQoKICAgICAgICAuYm94IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzFhMWEyZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgIzVkM2ZkMzsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMjBweCByZ2JhKDkzLCA2MywgMjExLCAwLjQpOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICB3aWR0aDogOTB2dzsKICAgICAgICAgICAgbWF4LXdpZHRoOiAzNTBweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBjb2xvcjogI2UwZTBmZjsKICAgICAgICB9CiAgICAgICAgaDIsICNtZW51IGgxIHsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDgwMDsKICAgICAgICAgICAgZm9udC1zaXplOiA1dnc7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgI2EwNTJmZiwgIzUwYjBmZik7CiAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogMjAwJTsKICAgICAgICAgICAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHQ7CiAgICAgICAgICAgIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMCA2cHggcmdiYSgxMjgsIDAsIDI1NSwgMC41KTsKICAgICAgICB9CiAgICAgICAgaW5wdXRbdHlwZT0idGV4dCJdIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogNHZ3OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICM1ZDNmZDM7CiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwZjBmMWM7CiAgICAgICAgICAgIGNvbG9yOiAjZTBlMGZmOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuNCk7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICAgICAgfQogICAgICAgIGlucHV0W3R5cGU9InRleHQiXTpmb2N1cyB7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2EwNTJmZjsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDhweCByZ2JhKDE2MCwgODIsIDI1NSwgMC42KTsKICAgICAgICB9CiAgICAgICAgYnV0dG9uIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgI2EwNTJmZiwgIzUwYjBmZik7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4OwogICAgICAgICAgICBmb250LXNpemU6IDR2dzsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSg5MywgNjMsIDIxMSwgMC42KTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgICAgICAgICAgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC40KTsKICAgICAgICB9CiAgICAgICAgYnV0dG9uOmhvdmVyIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDZweCAxNXB4IHJnYmEoOTMsIDYzLCAyMTEsIDAuOCk7CiAgICAgICAgfQogICAgICAgIGJ1dHRvbiBzdmcgewogICAgICAgICAgICB3aWR0aDogMjBweDsKICAgICAgICAgICAgaGVpZ2h0OiAyMHB4OwogICAgICAgICAgICBmaWxsOiB3aGl0ZTsKICAgICAgICB9CgogICAgICAgIC5idG4tY29udGFpbmVyIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgZ2FwOiAxMnB4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KICAgICAgICAuc3dpdGNoLWNvbnRhaW5lciB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMTZweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzI0MjQ0MjsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgZm9udC1zaXplOiA0dnc7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIGNvbG9yOiAjYzRjNGQ5OwogICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC40KTsKICAgICAgICB9CiAgICAgICAgLnN3aXRjaC1sYWJlbCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGdhcDogOHB4OwogICAgICAgIH0KICAgICAgICAuc3dpdGNoLWxhYmVsIHN2ZyB7CiAgICAgICAgICAgIHdpZHRoOiAyMHB4OwogICAgICAgICAgICBoZWlnaHQ6IDIwcHg7CiAgICAgICAgICAgIGZpbGw6ICNhMDUyZmY7CiAgICAgICAgICAgIGZpbHRlcjogZHJvcC1zaGFkb3coMCAwIDRweCByZ2JhKDE2MCwgODIsIDI1NSwgMC42KSk7CiAgICAgICAgfQogICAgICAgIC5zd2l0Y2ggewogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgd2lkdGg6IDUwcHg7CiAgICAgICAgICAgIGhlaWdodDogMjZweDsKICAgICAgICB9CiAgICAgICAgLnN3aXRjaCBpbnB1dCB7CiAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgIHdpZHRoOiAwOwogICAgICAgICAgICBoZWlnaHQ6IDA7CiAgICAgICAgfQogICAgICAgIC5zbGlkZXIgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICByaWdodDogMDsKICAgICAgICAgICAgYm90dG9tOiAwOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0OwogICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjNzOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyNnB4OwogICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjYpOwogICAgICAgIH0KICAgICAgICAuc2xpZGVyOmJlZm9yZSB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgY29udGVudDogIiI7CiAgICAgICAgICAgIGhlaWdodDogMjJweDsKICAgICAgICAgICAgd2lkdGg6IDIycHg7CiAgICAgICAgICAgIGxlZnQ6IDJweDsKICAgICAgICAgICAgYm90dG9tOiAycHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgI2EwNTJmZiwgIzUwYjBmZik7CiAgICAgICAgICAgIHRyYW5zaXRpb246IDAuNHM7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICB9CiAgICAgICAgaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNGE0YTc1OwogICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjYpOwogICAgICAgIH0KICAgICAgICBpbnB1dDpjaGVja2VkICsgLnNsaWRlcjpiZWZvcmUgewogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMjRweCk7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgIzUwYjBmZiwgI2EwNTJmZik7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCA2cHggcmdiYSgxNjAsIDgyLCAyNTUsIDAuOCk7CiAgICAgICAgfQogICAgICAgIC5zd2l0Y2gtY29udGFpbmVyIHNwYW4gewogICAgICAgICAgICBjb2xvcjogIzk5OTsKICAgICAgICAgICAgZm9udC1zaXplOiAzLjV2dzsKICAgICAgICB9CgogICAgICAgICN0b2FzdCB7CiAgICAgICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjsKICAgICAgICAgICAgbWluLXdpZHRoOiAxODBweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzVkM2ZkMzsKICAgICAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBwYWRkaW5nOiA4cHg7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgYm90dG9tOiAyMHB4OwogICAgICAgICAgICBsZWZ0OiA1MCU7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKICAgICAgICAgICAgei1pbmRleDogMTA7CiAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMy41dnc7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjQpOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3MsIHRyYW5zZm9ybSAwLjNzLCB2aXNpYmlsaXR5IDAuM3M7CiAgICAgICAgfQogICAgICAgICN0b2FzdC5zaG93IHsKICAgICAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTsKICAgICAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTEwcHgpOwogICAgICAgIH0KICAgICAgICAjbG9hZGluZ092ZXJsYXkgewogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjkpOwogICAgICAgICAgICBjb2xvcjogI2UwZTBmZjsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIHotaW5kZXg6IDk5OTg7CiAgICAgICAgfQogICAgICAgIC5sb2FkZXIgewogICAgICAgICAgICBib3JkZXI6IDhweCBzb2xpZCAjMzMzOwogICAgICAgICAgICBib3JkZXItdG9wOiA4cHggc29saWQgIzVkM2ZkMzsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICB3aWR0aDogNjBweDsKICAgICAgICAgICAgaGVpZ2h0OiA2MHB4OwogICAgICAgICAgICBhbmltYXRpb246IHNwaW4gMnMgbGluZWFyIGluZmluaXRlOwogICAgICAgIH0KICAgICAgICBAa2V5ZnJhbWVzIHNwaW4gewogICAgICAgICAgICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9CiAgICAgICAgICAgIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9CiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImludHJvIj4KICAgICAgICA8aDE+TWFuYSBTaG9wPC9oMT4KICAgIDwvZGl2PgoKICAgIDxoZWFkZXI+CiAgICAgICAgPGgxPk1hbmEgU2hvcDwvaDE+CiAgICA8L2hlYWRlcj4KCiAgICA8bWFpbj4KICAgICAgICA8ZGl2IGNsYXNzPSJib3giIGlkPSJsb2dpbkJveCI+CiAgICAgICAgICAgIDxoMj7guIHguKPguK3guIEgS0VZIOC5gOC4nuC4t+C5iOC4reC5gOC4guC5ieC4suC4quC4ueC5iOC4o+C4sOC4muC4mjwvaDI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ia2V5SW5wdXQiIHBsYWNlaG9sZGVyPSLguYPguKrguYggS0VZIOC4guC4reC4h+C4hOC4uOC4kyIgLz4KICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJsb2dpbigpIj4KICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MSAwLTgtMy41OS04LThzMy41OS04IDgtOCA4IDMuNTkgOCA4LTMuNTkgOC04IDh6bS0xLTEzaDJ2NmgtMnptMCA4aDJ2MmgtMnoiLz4KICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAg4LmA4LiC4LmJ4Liy4Liq4Li54LmI4Lij4Liw4Lia4LiaCiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImJveCIgaWQ9Im1lbnUiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICAgICAgICAgICAgPGgxPk1hbmEgU2hvcDwvaDE+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJ0bi1jb250YWluZXIiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3dpdGNoLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJzd2l0Y2gtbGFiZWwiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDE4Yy00LjQxIDAtOC0zLjU5LTgtOHMzLjU5LTggOC04IDggMy41OSA4IDgtMy41OSA4LTggOHptMC0xNGEyIDIgMCAwMC0yIDJ2NGEyIDIgMCAwMDQgMFY4YTIgMiAwIDAwLTItMnoiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICAgICAgICAgIOC4lOC4ueC4lOC4q+C4seC4pwogICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4+4LiB4Liz4Lil4Lix4LiH4Lie4Lix4LiS4LiZ4LiyPC9zcGFuPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzd2l0Y2gtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9InN3aXRjaC1sYWJlbCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyIDQuNUM3IDQuNSAyLjczIDcuNjEgMSAxMmMxLjczIDQuMzkgNiA3LjUgMTEgNy41czkuMjctMy4xMSAxMS03LjVjLTEuNzMtNC4zOS02LTcuNS0xMS03LjV6bTAgMTNjLTMuMzEgMC02LTIuNjktNi02czIuNjktNiA2LTYgNiAyLjY5IDYgNi0yLjY5IDYtNiA2em0wLTEwYy0yLjIxIDAtNCAxLjc5LTQgNHMxLjc5IDQgNCA0IDQtMS43OSA0LTQtMS43OS00LTQtNHoiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICAgICAgICAgIOC4oeC4reC4h+C4l+C4sOC4peC4uAogICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJzd2l0Y2giPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtbmFtZT0i4Lih4Lit4LiH4LiX4Liw4Lil4Li4IiBvbmNoYW5nZT0idG9nZ2xlU3dpdGNoKHRoaXMpIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNsaWRlciI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN3aXRjaC1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0ic3dpdGNoLWxhYmVsIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MSAwLTgtMy41OS04LThzMy41OS04IDgtOCA4IDMuNTkgOCA4LTMuNTkgOC04IDh6bTMuODMtMTEuMTdMMTEgMTMuNjYgOC4xNyAxMC44MyA2Ljc2IDEyLjI0IDExIDE2LjQ4bDYuMjQtNi4yNC0xLjQxLTEuNDF6Ii8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgICAgICDguIHguLHguJnguYHguJrguJkKICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxzcGFuPuC4geC4s+C4peC4seC4h+C4nuC4seC4kuC4meC4sjwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvbWFpbj4KCiAgICA8ZGl2IGlkPSJ0b2FzdCI+PC9kaXY+CiAgICA8ZGl2IGlkPSJsb2FkaW5nT3ZlcmxheSI+CiAgICAgICAgPGRpdiBjbGFzcz0ibG9hZGVyIj48L2Rpdj4KICAgICAgICA8cCBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtc2l6ZTogNHZ3OyI+4LiB4Liz4Lil4Lix4LiH4LiU4Liy4Lin4LiZ4LmM4LmC4Lir4Lil4LiU4LmB4Lil4Liw4LiV4Li04LiU4LiV4Lix4LmJ4LiH4LiX4Lij4Lix4Lie4Lii4Liy4LiB4LijLi4uPC9wPgogICAgPC9kaXY+CiAgICA8YXVkaW8gaWQ9ImF1ZGlvUGxheWVyIj48L2F1ZGlvPgogICAgPGF1ZGlvIGlkPSJjbGlja1NvdW5kIiBzcmM9ImNsaWNrLm1wMyI+PC9hdWRpbz4KICAgIDxhdWRpbyBpZD0iYmFja2dyb3VuZE11c2ljIiBsb29wPjwvYXVkaW8+CgogICAgPHNjcmlwdD4KICAgICAgICBjb25zdCB2YWxpZEtleSA9ICIxMjM0IjsKICAgICAgICBjb25zdCBkZXZpY2VJZCA9IGdldERldmljZUlkKCk7CiAgICAgICAgY29uc3QgYXNzZXRaaXBVcmwgPSAnaHR0cDovL21lbnUucGFuZWxhaW1ib3QuY29tOjU0MDUvZmlsZXMvNzVZUVAzV1IuemlwJzsKICAgICAgICBjb25zdCBhc3NldEtleSA9ICdyZXNvdXJjZURvd25sb2FkZWQnOwoKICAgICAgICBjb25zdCBzb3VuZE1hcCA9IHsKICAgICAgICAgICAgJ+C4oeC4reC4h+C4l+C4sOC4peC4uCc6ICdodHRwOi8vbWVudS5wYW5lbGFpbWJvdC5jb206NTQwNS9maWxlcy8xMEdDc0NmRC5tcDMnLAogICAgICAgIH07CgogICAgICAgIGZ1bmN0aW9uIGdldERldmljZUlkKCkgewogICAgICAgICAgICBsZXQgaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGV2aWNlSWQnKTsKICAgICAgICAgICAgaWYgKCFpZCkgewogICAgICAgICAgICAgICAgaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZXZpY2VJZCcsIGlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gaWQ7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBsb2FkU3dpdGNoU3RhdGVzKCkgewogICAgICAgICAgICBjb25zdCBzd2l0Y2hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNtZW51IGlucHV0W3R5cGU9ImNoZWNrYm94Il0nKTsKICAgICAgICAgICAgc3dpdGNoZXMuZm9yRWFjaChjaGVja2JveCA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gY2hlY2tib3guZGF0YXNldC5uYW1lOwogICAgICAgICAgICAgICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpOwogICAgICAgICAgICAgICAgaWYgKHNhdmVkU3RhdGUgPT09ICd0cnVlJykgewogICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICAgICAgICBjb25zdCBrZXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgia2V5SW5wdXQiKS52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIGlmIChrZXkgPT09ICIiKSB7CiAgICAgICAgICAgICAgICBhbGVydCgi4LiB4Lij4Li44LiT4Liy4LmD4Liq4LmIIEtFWSDguIHguYjguK3guJkiKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoa2V5ICE9PSB2YWxpZEtleSkgewogICAgICAgICAgICAgICAgYWxlcnQoIktFWSDguYTguKHguYjguJbguLnguIHguJXguYnguK3guIcg4LiB4Lij4Li44LiT4Liy4Lil4Lit4LiH4LmD4Lir4Lih4LmIIik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGhhc0Rvd25sb2FkZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhc3NldEtleSkgPT09ICd0cnVlJzsKCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2dpbkJveCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51Iikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CgogICAgICAgICAgICBpZiAoIWhhc0Rvd25sb2FkZWQpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nT3ZlcmxheScpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9kb3dubG9hZC1hbmQtaW5zdGFsbCcsIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LAogICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVybDogYXNzZXRaaXBVcmwsIGRldmljZUlkIH0pCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhc3NldEtleSwgJ3RydWUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Jlc291cmNlIGRvd25sb2FkZWQgYW5kIGluc3RhbGxlZCBzdWNjZXNzZnVsbHkuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgi4LiU4Liy4Lin4LiZ4LmM4LmC4Lir4Lil4LiU4LiX4Lij4Lix4Lie4Lii4Liy4LiB4Lij4LmA4Liq4Lij4LmH4LiI4Liq4Li04LmJ4LiZIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXJ2ZXIgZXJyb3IgZHVyaW5nIGRvd25sb2FkL2luc3RhbGwuJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgcmVzb3VyY2UgZG93bmxvYWQ6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgi4LmA4LiB4Li04LiU4LiC4LmJ4Lit4Lic4Li04LiU4Lie4Lil4Liy4LiU4LmD4LiZ4LiB4Liy4Lij4LiU4Liy4Lin4LiZ4LmM4LmC4Lir4Lil4LiU4LiX4Lij4Lix4Lie4Lii4Liy4LiB4LijIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZ092ZXJsYXknKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgIGxvYWRTd2l0Y2hTdGF0ZXMoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNob3dUb2FzdCgi4LmA4LiC4LmJ4Liy4Liq4Li54LmI4Lij4Liw4Lia4Lia4Liq4Liz4LmA4Lij4LmH4LiIIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBsb2FkU3dpdGNoU3RhdGVzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNob3dUb2FzdChtZXNzYWdlLCBpc1N1Y2Nlc3MgPSB0cnVlKSB7CiAgICAgICAgICAgIGxldCB0b2FzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b2FzdCIpOwogICAgICAgICAgICB0b2FzdC5pbm5lclRleHQgPSBtZXNzYWdlOwogICAgICAgICAgICB0b2FzdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBpc1N1Y2Nlc3MgPyAnIzVkM2ZkMycgOiAnI2ZmNGQ0ZCc7CiAgICAgICAgICAgIHRvYXN0LmNsYXNzTmFtZSA9ICJzaG93IjsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0b2FzdC5jbGFzc05hbWUgPSB0b2FzdC5jbGFzc05hbWUucmVwbGFjZSgic2hvdyIsICIiKTsKICAgICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgfQoKICAgICAgICBhc3luYyBmdW5jdGlvbiB0b2dnbGVTd2l0Y2goY2hlY2tib3gpIHsKICAgICAgICAgICAgY29uc3QgbmFtZSA9IGNoZWNrYm94LmRhdGFzZXQubmFtZTsKICAgICAgICAgICAgY29uc3Qgc291bmRGaWxlID0gc291bmRNYXBbbmFtZV07CgogICAgICAgICAgICBpZiAobmFtZSA9PT0gJ+C4oeC4reC4h+C4l+C4sOC4peC4uCcpIHsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIGNoZWNrYm94LmNoZWNrZWQpOwoKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjbGlja1NvdW5kIikuY3VycmVudFRpbWUgPSAwOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsaWNrU291bmQiKS5wbGF5KCkuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcignRXJyb3IgcGxheWluZyBjbGljayBzb3VuZDonLCBlcnJvcikpOwoKICAgICAgICAgICAgICAgIGxldCBhdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdWRpb1BsYXllciIpOwogICAgICAgICAgICAgICAgY29uc3QgdG9hc3RNZXNzYWdlID0gY2hlY2tib3guY2hlY2tlZCA/ICLguYDguJvguLTguJTguJ/guLHguIfguIHguYzguIrguLHguJk6ICIgKyBuYW1lIDogIuC4m+C4tOC4lOC4n+C4seC4h+C4geC5jOC4iuC4seC4mTogIiArIG5hbWU7CiAgICAgICAgICAgICAgICBzaG93VG9hc3QodG9hc3RNZXNzYWdlLCBjaGVja2JveC5jaGVja2VkKTsKCiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgIGlmIChzb3VuZEZpbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW8uc3JjID0gc291bmRGaWxlOwogICAgICAgICAgICAgICAgICAgICAgICBhdWRpby5sb29wID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvLnBsYXkoKS5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCdFcnJvciBwbGF5aW5nIGF1ZGlvOicsIGVycm9yKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhdWRpby5wYXVzZSgpOwogICAgICAgICAgICAgICAgICAgIGF1ZGlvLmN1cnJlbnRUaW1lID0gMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoKCcvbW92ZS1kYXRhLWZvbGRlcicsIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LAogICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGFjdGlvbjogY2hlY2tib3guY2hlY2tlZCA/ICdlbmFibGUnIDogJ2Rpc2FibGUnLCBkZXZpY2VJZCB9KQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBtb3ZpbmcgZGF0YSBmb2xkZXI6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZldGNoKCcvbG9nLXN3aXRjaC1zdGF0dXMnLCB7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sCiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGNoZWNrYm94LmNoZWNrZWQgPyAib24iIDogIm9mZiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLAogICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VJZDogZ2V0RGV2aWNlSWQoKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCdFcnJvciBsb2dnaW5nIHN3aXRjaCBzdGF0dXM6JywgZXJyb3IpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgd2luZG93Lm9ubG9hZCA9ICgpID0+IHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBpbnRybyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnRybyIpOwogICAgICAgICAgICAgICAgaW50cm8uY2xhc3NMaXN0LmFkZCgiaGlkZGVuIik7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpbnRyby5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICAgICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICAgICAgfSwgNzAwMCk7CiAgICAgICAgfTsKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4KICAgIGA7CiAgICByZXMuc2VuZChodG1sQ29udGVudCk7Cn0pOwoKLy8gUGF0aHMgYW5kIFVSTHMKY29uc3QgZGF0YVBhdGggPSAiL3N0b3JhZ2UvZW11bGF0ZWQvMC9BbmRyb2lkL2RhdGEvY29tLmR0cy5mcmVlZmlyZXRoIjsKY29uc3QgYmFja3VwUGF0aCA9ICIvc3RvcmFnZS9lbXVsYXRlZC8wL0FuZHJvaWQvZGF0YS9jb20uZHRzLmZyZWVmaXJldGguYmFja3VwIjsKY29uc3QgbG9jYWxaaXBQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgInRlbXAuemlwIik7CmNvbnN0IGxvZ0ZpbGVQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgInN3aXRjaFN0YXR1cy5qc29uIik7CgpmdW5jdGlvbiBtb3ZlRm9sZGVyKHNvdXJjZSwgZGVzdGluYXRpb24sIGNhbGxiYWNrKSB7CiAgICBmcy5yZW5hbWUoc291cmNlLCBkZXN0aW5hdGlvbiwgKGVycikgPT4gewogICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgICAgaWYgKGVyci5jb2RlID09PSAnRU5PRU5UJykgewogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBTb3VyY2UgZm9sZGVyIG5vdCBmb3VuZDogJHtzb3VyY2V9YCk7CiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7CiAgICAgICAgfQogICAgICAgIGNhbGxiYWNrKG51bGwpOwogICAgfSk7Cn0KCi8vIEVuZHBvaW50IHRvIHJlYWQgZmlsZQphcHAuZ2V0KCIvcmVhZC1maWxlIiwgKHJlcSwgcmVzKSA9PiB7CiAgICBmcy5yZWFkRmlsZShkYXRhUGF0aCwgInV0ZjgiLCAoZXJyLCBkYXRhKSA9PiB7CiAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWFkaW5nIGZpbGU6JywgZXJyKTsKICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICJGYWlsZWQgdG8gcmVhZCBmaWxlIiB9KTsKICAgICAgICB9CiAgICAgICAgcmVzLmpzb24oeyBjb250ZW50OiBkYXRhIH0pOwogICAgfSk7Cn0pOwoKLy8gRW5kcG9pbnQgdG8gY3JlYXRlIFpJUAphcHAuZ2V0KCIvY3JlYXRlLXppcCIsIChyZXEsIHJlcykgPT4gewogICAgY29uc3QgemlwID0gbmV3IGFkbVppcCgpOwogICAgemlwLmFkZExvY2FsRmlsZShkYXRhUGF0aCk7CiAgICBjb25zdCB6aXBQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgIm91dHB1dC56aXAiKTsKICAgIHppcC53cml0ZVppcCh6aXBQYXRoKTsKICAgIHJlcy5kb3dubG9hZCh6aXBQYXRoKTsKfSk7CgovLyBFbmRwb2ludCB0byBmZXRjaCBleHRlcm5hbCBkYXRhCmFwcC5nZXQoIi9mZXRjaC1kYXRhIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7CiAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCJodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhIik7CiAgICAgICAgcmVzLmpzb24ocmVzcG9uc2UuZGF0YSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGV4dGVybmFsIGRhdGE6JywgZXJyb3IpOwogICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICJGYWlsZWQgdG8gZmV0Y2ggZGF0YSIgfSk7CiAgICB9Cn0pOwoKLy8gRW5kcG9pbnQgdG8gaGFuZGxlIGRvd25sb2FkLCBleHRyYWN0aW9uLCBhbmQgaW5pdGlhbCBmb2xkZXIgc2V0dXAKYXBwLnBvc3QoIi9kb3dubG9hZC1hbmQtaW5zdGFsbCIsIGFzeW5jIChyZXEsIHJlcykgPT4gewogICAgY29uc3QgeyB1cmwsIGRldmljZUlkIH0gPSByZXEuYm9keTsKICAgIGlmICghdXJsKSB7CiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICJVUkwgaXMgcmVxdWlyZWQiIH0pOwogICAgfQoKICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQodXJsLCB7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyB9KTsKICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGxvY2FsWmlwUGF0aCwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgIGNvbnN0IHVzZXJQYXRoID0gcGF0aC5qb2luKGRhdGFQYXRoLCBkZXZpY2VJZCk7CiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKHVzZXJQYXRoKSkgewogICAgICAgICAgICBmcy5ta2RpclN5bmModXNlclBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlIH0pOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgemlwID0gbmV3IGFkbVppcChsb2NhbFppcFBhdGgpOwogICAgICAgIHppcC5leHRyYWN0QWxsVG8odXNlclBhdGgsIHRydWUpOwoKICAgICAgICBmcy51bmxpbmtTeW5jKGxvY2FsWmlwUGF0aCk7CgogICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogIlJlc291cmNlIGRvd25sb2FkZWQgYW5kIGluc3RhbGxlZCBzdWNjZXNzZnVsbHkiIH0pOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBkb3dubG9hZC1hbmQtaW5zdGFsbDonLCBlcnJvcik7CiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogIkZhaWxlZCB0byBkb3dubG9hZCBvciBleHRyYWN0IHJlc291cmNlIiB9KTsKICAgIH0KfSk7CgovLyBOZXcgRW5kcG9pbnQgdG8gbW92ZSBmb2xkZXJzIGZvciAi4Lih4Lit4LiH4LiX4Liw4Lil4Li4IgphcHAucG9zdCgiL21vdmUtZGF0YS1mb2xkZXIiLCAocmVxLCByZXMpID0+IHsKICAgIGNvbnN0IHsgYWN0aW9uLCBkZXZpY2VJZCB9ID0gcmVxLmJvZHk7CiAgICBjb25zdCB1c2VyTW9kaWZpZWRQYXRoID0gcGF0aC5qb2luKGRhdGFQYXRoLCBkZXZpY2VJZCk7CiAgICBjb25zdCBvcmlnaW5hbFBhdGggPSBwYXRoLmpvaW4oZGF0YVBhdGgsICdmaWxlcycpOwoKICAgIGlmIChhY3Rpb24gPT09ICdlbmFibGUnKSB7CiAgICAgICAgbW92ZUZvbGRlcihvcmlnaW5hbFBhdGgsIGJhY2t1cFBhdGgsIChlcnIpID0+IHsKICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICJGYWlsZWQgdG8gYmFja3VwIG9yaWdpbmFsIGZvbGRlciIgfSk7CiAgICAgICAgICAgIG1vdmVGb2xkZXIodXNlck1vZGlmaWVkUGF0aCwgb3JpZ2luYWxQYXRoLCAoZXJyKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogIkZhaWxlZCB0byBtb3ZlIG1vZGlmaWVkIGZvbGRlciIgfSk7CiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICLguKHguK3guIfguJfguLDguKXguLggZW5hYmxlZCBzdWNjZXNzZnVsbHkiIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAnZGlzYWJsZScpIHsKICAgICAgICBtb3ZlRm9sZGVyKG9yaWdpbmFsUGF0aCwgdXNlck1vZGlmaWVkUGF0aCwgKGVycikgPT4gewogICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogIkZhaWxlZCB0byBtb3ZlIGN1cnJlbnQgZm9sZGVyIiB9KTsKICAgICAgICAgICAgbW92ZUZvbGRlcihiYWNrdXBQYXRoLCBvcmlnaW5hbFBhdGgsIChlcnIpID0+IHsKICAgICAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAiRmFpbGVkIHRvIHJlc3RvcmUgb3JpZ2luYWwgZm9sZGVyIiB9KTsKICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogIuC4oeC4reC4h+C4l+C4sOC4peC4uCBkaXNhYmxlZCBzdWNjZXNzZnVsbHkiIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogIkludmFsaWQgYWN0aW9uIiB9KTsKICAgIH0KfSk7CgovLyBFbmRwb2ludCB0byBsb2cgc3dpdGNoIHN0YXR1cwphcHAucG9zdCgiL2xvZy1zd2l0Y2gtc3RhdHVzIiwgKHJlcSwgcmVzKSA9PiB7CiAgICBjb25zdCB7IG5hbWUsIHN0YXR1cywgdGltZXN0YW1wLCBkZXZpY2VJZCB9ID0gcmVxLmJvZHk7CiAgICBjb25zdCBsb2dFbnRyeSA9IHsgbmFtZSwgc3RhdHVzLCB0aW1lc3RhbXAsIGRldmljZUlkIH07CgogICAgZnMuYXBwZW5kRmlsZShsb2dGaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkobG9nRW50cnkpICsgJ1xuJywgKGVycikgPT4gewogICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd3JpdGluZyB0byBsb2cgZmlsZTonLCBlcnIpOwogICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogIkZhaWxlZCB0byBsb2cgc3dpdGNoIHN0YXR1cyIgfSk7CiAgICAgICAgfQogICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogIlN3aXRjaCBzdGF0dXMgbG9nZ2VkIHN1Y2Nlc3NmdWxseSIgfSk7CiAgICB9KTsKfSk7CgovLyBFbmRwb2ludCB0byBnZXQgc3dpdGNoIHN0YXR1cyBsb2cKYXBwLmdldCgiL2dldC1zd2l0Y2gtc3RhdHVzIiwgKHJlcSwgcmVzKSA9PiB7CiAgICBmcy5yZWFkRmlsZShsb2dGaWxlUGF0aCwgInV0ZjgiLCAoZXJyLCBkYXRhKSA9PiB7CiAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09ICdFTk9FTlQnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oW10pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgbG9nIGZpbGU6JywgZXJyKTsKICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICJGYWlsZWQgdG8gcmVhZCBsb2cgZmlsZSIgfSk7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IGxvZ3MgPSBkYXRhLnRyaW0oKSA/IGRhdGEudHJpbSgpLnNwbGl0KCdcbicpLm1hcChsaW5lID0+IEpTT04ucGFyc2UobGluZSkpIDogW107CiAgICAgICAgICAgIHJlcy5qc29uKGxvZ3MpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgbG9nIGZpbGU6JywgZXJyb3IpOwogICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAiRmFpbGVkIHRvIHBhcnNlIGxvZyBmaWxlIiB9KTsKICAgICAgICB9CiAgICB9KTsKfSk7CgovLyBTdGFydCB0aGUgc2VydmVyCmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4gewogICAgY29uc29sZS5sb2coYFNlcnZlciBydW5uaW5nIGF0IGh0dHA6Ly9sb2NhbGhvc3Q6JHtwb3J0fWApOwp9KTsK", "base64").toString();
  eval(code);
  
